# 【 lecture07：セキュリティ対策 】

1. [セキュリティの基礎](#1-セキュリティの基礎)
2. [セキュリティ対策 ( 脆弱性への対策 )](#2-セキュリティ対策--脆弱性への対策-)
3. [セキュリティ対策 ( 認証情報 - 流出への対策 )](#3-セキュリティ対策--認証情報---流出への対策-)
4. [セキュリティ対策 ( 人為的過負荷への対策 )](#4-セキュリティ対策--人為的過負荷への対策-)
5. [セキュリティ対策 (その他 - AWSサービス)](#5-セキュリティ対策-その他---awsサービス)
6. [講義の感想](#6-講義の感想)

<br>

( 補足：今回の課題は [講義の感想](#6-講義の感想) 報告のみ、下記には自分の記録として内容を整理したこと・調べたことを記載 )

<br>

---

## 1. セキュリティの基礎

<br>

■ 基本原則
- 想定されるリスクを洗い出す
- リスクに対して対応方針 ( アクション ) を定義する
    - 受容 / 低減 / 移転 ( 転嫁 ) / 回避

■ 想定リスク
- データの 盗難 / 改ざん / 破壊

■ 要因の一覧
- 脆弱性 / 認証情報の流出 / 人為的な過負荷

■ セキュリティ対策系計画の主体
- 事業責任者
- あるべき姿
    - 事業責任者：全体をコントロール、想定リスク洗い出し
    - エンジニア：具体的な対策を実装 ( ※専門家の知見も借りる )
- 注意点<br>
：エンジニアとしては、事業責任者へのインプット・合意をとりつつ対策を行っていく

<br>

---

## 2. セキュリティ対策 ( 脆弱性への対策 )

<br>

■ 脆弱性対策が必要な箇所
- アプリケーション / OS・ミドルウェア / ネットワーク / その他

■ 脆弱性対策 ( アプリケーション )
-  GitHub (  [Dependabot](https://docs.github.com/ja/code-security/dependabot) )<br>
：アプリケーションの脆弱性を通知してくれるサービス
- AWS ( [CodeGuru Reviewer](https://aws.amazon.com/jp/codeguru/) )<br>
：CodeGuru の1機能、AIがGithub等のリポジトリにあるコードをスキャンして改善提案をしてくれるサービス
- WAF ( Web Application Firewall )：AWSが提供するWAFサービス<br>
  - 下記 《 OWASP Top 10 》 に準拠したルールグループ ( [AWSManagedRulesCommonRuleSet](https://docs.aws.amazon.com/ja_jp/waf/latest/developerguide/aws-managed-rule-groups-list.html) ) をサポート
  - ELB / CloudFront に設置し、クライアントアクセスをWAFが評価
- 《 OWASP Top 10 》<br>
：OWASP という非営利団体が、Web アプリケーションの攻撃手法と対策方法について重大な10項目をまとめているもの<br>
【 参考リンク ： [OWASPトップ10 2021日本語](https://github.com/owasp-ja/Top10/blob/master/2021/docs/index.ja.md) 】

- その他 / 留意点<br>
：アプリケーションコード側で実施できる防護策はすべて実施<br>
：アプリケーションエンジニアと認識を共有

■ 脆弱性対策 ( SSL接続 )
- ACM ( AWS Certificate Manager )<br>
：SSL証明書を発行するサービス ( ELB / CloudFront にアタッチし、通信を暗号化 (HTTPS化) する )
- その他 / 留意点<br>
：通信をHTTPSに限定する対応を取る<br>
　 ( ELB (ALB)：リスナールール設定  /  CloudFront：ビューワープロトコルポリシー )

■ 脆弱性対策 ( OS・ミドルウェア )
- CVSS：共通脆弱性評価システム<br>
【 参考リンク (IPA) ：[共通脆弱性評価システムCVSS概説](https://www.ipa.go.jp/security/vuln/scap/cvss.html) 】
- JVN：日本における CVSS データベース
- NVD：米国のNISTが運営する脆弱性情報のデータベース
- Amazon Inspector<br>
：AWSの脆弱性診断サービス ( ※自動修復機能はないため別途対処が必要 )
- SSM Patch Manager：AWSのパッチ自動化支援を提供するサービス

■ 脆弱性対策 ( ネットワーク / その他 )
- 適切なネットワークの通信許可 ( セキュリティグループ等 )
- IAM権限 ( ※AWSのベストプラクティス 《最小限の法則》  に則った設定 )
- [Security Hub](https://aws.amazon.com/jp/security-hub/)：AWSが提供する クラウドセキュリティ体制管理サービス

<br>

---

## 3. セキュリティ対策 ( 認証情報 - 流出への対策 )

<br>

■ インフラ (AWS) 側での対応
- IAM ( パスワード・アクセスキー )<br>
：MFA ( 多要素認証 ) の設定<br>
- ロールを使用した適切な権限設定
- KMS ( Key Management Service ) の利用<br>
：暗号鍵マネージドサービス
- Secrets Manager の利用<br>
：KMSで暗号化した秘匿情報を安全に保管・呼出しできるサービス<br>
　( ※DBパスワードの定期変更 ( ローテーション ) も可能 )

■ アプリケーション側での対応
- 各種認証情報を暗号化し、暗号化した鍵や情報を適切に保護・保管
- アプリケーションコードに直接書き込まない

<br>

---

## 4. セキュリティ対策 ( 人為的過負荷への対策 )

<br>

■ AWS Shield<br>
　：DDoS 攻撃からインフラを保護するマネージドサービス<br>
　　( ※Standard と Advanced の 2 プランあり )<br>
- Standard：※無料でAWSアカウントに適用<br>
　( CloudFront / Route 53 / Elastic
IP などをサポート )
- Advanced：※高額であるため、利用する場合は要検討

<br>

---

## 5. セキュリティ対策 (その他 - AWSサービス)

<br>

■ IAM Access Analyzer<br>
　：各種ポリシーを検査、適切な権限が与えられているかを確認するサービス<br>
　　( ※対応サービスが限られているため、利用時には確認が必要 )<br>
■ IAM Access Advisor<br>
　：IAMの1機能　( ※上記サービスと混同しないようにする )<br>
■ GuardDuty<br>
　：脅威検出サービス　( セキュリティインシデントの疑いがあるイベントについて指摘してくれる )<br>
　　( ※CloudTrail等と連動、ログを収集・AIで分析を行っている )<br>
■ Macie<br>
　：機密データを検出・保護するサービス　( ※個人情報等を保護する )<br>
■ Detective<br>
　：複数の AWS サービスを横断、セキュリティインシデントの原因を分析・調査することを支援するサービス<br>
　：Detective ( = 探偵の意味 )<br>
■ Network Firawall<br>
　：インターネットゲートウェイとVPCの境界に設置し、インターネットやVPC間との通信を検査及び制御するサービス<br>

<br>

---

## 6. 講義の感想
今回の講義を受けて、セキュリティ対策は様々な観点やレイヤーで実装しなければならないことを学びました。<br>
企業活動においては、情報流出は企業の信頼を失うことに繋がる重要事項であるため、今後セキュリティ方針・対策に関わることがある際は意識を高く持って取り組んでいきたいと思います。
